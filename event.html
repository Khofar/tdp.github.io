<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />
	<title>TDP Events</title>
	<link rel="stylesheet" href="style.css" />
	<script src="script.js" defer></script>
	<style>
		.event-list {
			text-align: left;
			max-width: 700px;
			margin: auto;
			padding: 20px;
		}
		
		.event-list li {
			background: rgba(255, 255, 255, 0.05);
			border: 2px solid #00ffff;
			margin-bottom: 20px;
			padding: 20px;
			border-radius: 15px;
			box-shadow: 0 0 20px #00ffff;
			color: white;
		}
		
		h1 {
			font-weight: bold;
			color: #BFAC2D;
			text-shadow: 0 0 2px #FF0069, 0 0 4px #FF0069, 0 0 6px #FF0069, 0 0 8px #FF0069;
		}
		
		.mvp-box {
			background: rgba(255, 255, 255, 0.07);
			padding: 25px;
			border: 2px solid gold;
			text-align: center;
			border-radius: 15px;
			max-width: 500px;
			margin: 40px auto;
			box-shadow: 0 0 20px gold;
			color: white;
		}
		
		#countdown {
			font-size: 1.5em;
			color: #00ff00;
			text-align: center;
			margin-top: 20px;
			text-shadow: 0 0 10px green;
		}
		
		form {
			background: rgba(255, 255, 255, 0.05);
			padding: 20px;
			border-radius: 15px;
			max-width: 500px;
			margin: 40px auto;
			border: 2px solid #00ffff;
			box-shadow: 0 0 20px #00ffff;
		}
		
		form input,
		form textarea,
		form button {
			width: 100%;
			padding: 10px;
			margin-bottom: 15px;
			border-radius: 10px;
			border: none;
		}
		
		form button {
			background: #00ffff;
			font-weight: bold;
			cursor: pointer;
		}
		
		button {
			color: red;
		}
		
		body {
			text-align: center;
		}
		
		h3,
		p,
		h2 {
			text-align: center;
			color: #ffffff;
			size: 88px;
			text-shadow: 0 0 5px red, 0 0 10px red;
		}
		
		.back-link {
			display: inline-block;
			margin-top: 30px;
			background: #ffcc00;
			color: #000;
			padding: 10px 20px;
			text-decoration: none;
			font-weight: bold;
			border-radius: 5px;
			transition: 0.3s;
		}
		
		strong {
			color: #ffd300;
		}
		
		.back-link:hover {
			background: #00ffde;
		}
	</style>
</head>

<body>
	<div class="menu-wrapper">
		<div id="hamburger" class="hamburger">
			<span></span><span></span><span></span>
		</div>
		<nav class="menu-links" id="menuLinks">
			<a href="index.html">Home</a>
			<a href="table.html">Players</a>
			<a href="gallery.html">Gallery</a>
			<a href="about.html">About</a>
			<a href="contact.html">Contact</a>
			<a href="khofar.html">KHOFAR</a>
			<a href="event.html">Events</a>
		</nav>
	</div>
	<br><br>
	<span <h1 style="background: blue; color: red; font-size: 22px;font-weight: bold;">üî• TDP Events üî•</h1></span>
	<h1 style="margin-bottom: -5px;">‚ö†Ô∏è WOW</h1>
	<div id="countdown1">‚è≥ Loading...</div>
	<br>
	<h1 style="margin-bottom: -5px;">‚öîÔ∏è REEF</h1>
	<div id="countdown2">‚è≥ Loading...</div>
	<br>
	<h1 style="margin-bottom: -5px;">üëª SPECTER RAID</h1>
	<div id="countdown3">‚è≥ Loading...</div>
	
	<ul class="event-list">
		<li>
			<h3>‚öîLORD OF TIDE</h3>
			<p>GET READY FOR THE BATTLES EVERY FRIDAY AT 16:00 UTC.</p>
		</li>
		<li>
			<h3>üéØ REEF EVENT ‚Äì WEDS/16:00UTC</h3>
			<p>
				Register by June 19. Winner gets Discord role + VIP badge on
				site.
			</p>
		</li>
	</ul>
	
	<div class="mvp-box">
		<h2>
			üèÜ MVP of the Week: <span style="color: #ffd700">KAHLITA</span>
		</h2>
		<p>THE MOST CUTIE AND CHOCOLITA</p>
	</div>
	
	<form action="https://formspree.io/f/xdkzzekr" method="POST">
		<h2 style="text-align: center">Submit Your Highlight üéÆ</h2>
		<input type="text" name="player" placeholder="Player Name" required />
		<input type="text" name="event" placeholder="Event Name" required />
		<textarea name="details" placeholder="Describe what happened" required></textarea>
		<button type="submit">Submit Event</button>
	</form>
	
	<a class="back-link ; glow-effect" style="color: blue" href="index.html">‚¨Ö Back to Main Page</a>
</body>

<script>
	// üß† All events in one place
	const events = [
	{
		id: "countdown1",
		title: "WOW",
		weekday: 5 // Friday
	},
	{
		id: "countdown2",
		title: "REEF",
		weekday: 3 // Wednesday
	},
	{
		id: "countdown3",
		title: "SPECTER RAID",
		weekday: 2 // Tuesday
	}];
	
	// üîÆ Get next weekday at 16:00 UTC
	function getNextWeekdayAt1600UTC(targetDay) {
		const now = new Date();
		const utcNow = new Date(Date.UTC(
			now.getUTCFullYear(),
			now.getUTCMonth(),
			now.getUTCDate(),
			now.getUTCHours(),
			now.getUTCMinutes(),
			now.getUTCSeconds()
		));
		
		let currentDay = utcNow.getUTCDay();
		let daysUntil = (targetDay - currentDay + 7) % 7;
		
		if (daysUntil === 0 && utcNow.getUTCHours() >= 16) {
			daysUntil = 7;
		}
		
		const targetDate = new Date(utcNow);
		targetDate.setUTCDate(utcNow.getUTCDate() + daysUntil);
		targetDate.setUTCHours(16, 0, 0, 0);
		
		return targetDate;
	}
	
	// üîÅ Start all countdowns
	events.forEach(event => {
		function updateCountdown() {
			const now = new Date();
			const target = getNextWeekdayAt1600UTC(event.weekday);
			const diff = target - now;
			
			if (diff <= 0) {
				document.getElementById(event.id).textContent = `‚úÖ ${event.title} has started!`;
				return;
			}
			
			const totalSeconds = Math.floor(diff / 1000);
			const days = Math.floor(totalSeconds / 86400);
			const hours = Math.floor((totalSeconds % 86400) / 3600);
			const minutes = Math.floor((totalSeconds % 3600) / 60);
			const seconds = totalSeconds % 60;
			
			document.getElementById(event.id).textContent =
				`‚è≥ ${event.title} starts in: ${days}d ${hours}h ${minutes}m ${seconds}s`;
		}
		
		updateCountdown();
		setInterval(updateCountdown, 1000);
	});
</script>

</html>